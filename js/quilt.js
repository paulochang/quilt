/*global window,console,$,document:false, Image, FileReader */
var constants = {
    light: "rgb(200,200,200)",
    shade: 'rgba(255,255,255,0)',
    intervals: 8,
    canvasWidth: 480
};

/*
var none = [];

var monkey_wrench = ["t2", "t12", "t17", "t19", "t20", "t18", "t21", "t23", "t22", "t24", "t25",
                    "t27", "t26", "t28", "t29", "t31", "t97", "t99", "t98", "t114", "t124", "t108",
                     "t109", "t111", "t100", "t101", "t103", "t102", "t104", "t105", "t107", "t106",
                     "t35", "t34", "t50", "t51", "t67", "t66", "t82", "t83", "t45", "t44", "t60",
                     "t61", "t77", "t76", "t92", "t93"];

var shoofly = ["t21", "t37", "t36", "t34", "t55", "t54", "t56", "t57", "t73", "t72", "t70",
                     "t71", "t43", "t27", "t44", "t42", "t85", "t101", "t84", "t82", "t91", "t90",
                     "t92", "t107"];


var flying_geese = ['t2', 't6', 't10', 't12',
                    't17', 't18', 't19', 't21', 't22', 't23', 't25', 't26', 't27', 't28', 't29', 't31',
                    't33', 't34', 't35', 't37', 't38', 't39', 't42', 't44',
                    't50', 't54', 't57', 't58', 't59', 't60', 't61', 't63',
                    't65', 't66', 't67', 't68', 't69', 't71', 't72', 't76',
                    't82', 't84', 't88', 't89', 't91', 't92', 't93', 't95',
                    't97', 't98', 't99', 't100', 't101', 't103', 't104', 't105',
                    't107', 't108', 't109', 't111', 't114', 't116', 't120', 't124'];

var bow_ties = ['t0', 't6', 't9', 't10', 't11', 't12', 't13', 't15',
                    't16', 't17', 't19', 't21', 't22', 't23', 't26', 't28',
                    't32', 't33', 't35', 't37', 't38', 't39', 't42', 't44',
                    't48', 't54', 't57', 't58', 't59', 't60', 't61', 't63',
                    't65', 't66', 't67', 't68', 't69', 't71', 't72', 't78',
                    't82', 't84', 't88', 't89', 't91', 't93', 't94', 't95',
                    't98', 't100', 't104', 't105', 't107', 't109', 't110', 't111',
                    't113', 't114', 't115', 't116', 't117', 't119', 't120', 't126'];

var crossroads = ["t2", "t4", "t10", "t12", "t17", "t19", "t20",
                  "t18", "t21", "t23", "t25", "t27", "t26", "t29", "t28",
                  "t31", "t33", "t35", "t34", "t36", "t37", "t39", "t41",
                  "t43", "t42", "t44", "t45", "t47", "t50", "t52", "t58",
                  "t60", "t66", "t68", "t74", "t76", "t81", "t83", "t82",
                  "t84", "t85", "t87", "t89", "t91", "t90", "t92", "t93",
                  "t95", "t97", "t99", "t98", "t100", "t101", "t103", "t105",
                  "t107", "t106", "t108", "t109", "t111", "t114", "t116", "t122", "t124"];

var northstar = ["t4", "t10", "t20", "t21", "t23", "t25", "t27", "t26", "t33", "t35", "t34", "t36", "t37", "t39", "t38", "t40", "t41", "t43", "t42", "t44", "t45", "t47", "t50", "t52", "t53", "t55", "t54", "t56", "t57", "t59", "t58", "t60", "t66", "t68", "t69", "t71", "t70", "t72", "t73", "t75", "t74", "t76", "t81", "t83", "t82", "t84", "t87", "t85", "t86", "t88", "t89", "t91", "t90", "t92", "t93", "t95", "t100", "t101", "t103", "t105", "t107", "t106", "t116", "t122"];


var shapeArray = [none, monkey_wrench, shoofly, flying_geese, bow_ties, crossroads, northstar];
*/

var nueva = [];
var counter = 0;
var isPainting = false;

var ColorLayer = (function () {
    function ColorLayer(color, coords) {
        this.color = color;
        this.coords = coords;
    }
    return ColorLayer;
})();
var Template = (function () {
    function Template(name, text, divisionNr, code) {
        this.name = name;
        this.text = text;
        this.divisionNr = divisionNr;
        this.code = code;
    }
    return Template;
})();


var templateArray;

var none1 = new ColorLayer("#36b", []);

var mon1 = new ColorLayer("#36b", [
    "t2", "t12", "t17", "t19", "t20", "t18", "t21", "t23", "t22", "t24", "t25",
    "t27", "t26", "t28", "t29", "t31", "t97", "t99", "t98", "t114", "t124", "t108",
    "t109", "t111", "t100", "t101", "t103", "t102", "t104", "t105", "t107", "t106",
    "t35", "t34", "t50", "t51", "t67", "t66", "t82", "t83", "t45", "t44", "t60",
    "t61", "t77", "t76", "t92", "t93"]);

var carp1 = new ColorLayer("#0d0dff", [
    "t1", "t1", "t0", "t1", "t1", "t33", "t35", "t34", "t2", "t3", "t3", "t1", "t0", "t0",
    "t32", "t32", "t32", "t511", "t511", "t508", "t476", "t476", "t477", "t479", "t478",
    "t478", "t510", "t510", "t511", "t509", "t509", "t509", "t29", "t29", "t28", "t60",
    "t60", "t61", "t63", "t63", "t62", "t62", "t31", "t449", "t449", "t451", "t482", "t482",
    "t483", "t483", "t483", "t481", "t481", "t480", "t448", "t448", "t448", "t448", "t450",
    "t450", "t69", "t69", "t71", "t71", "t71", "t71", "t70", "t72", "t102", "t104", "t104",
    "t104", "t104", "t105", "t105", "t105", "t105", "t107", "t107", "t107", "t108", "t108",
    "t79", "t79", "t79", "t79", "t76", "t76", "t77", "t45", "t45", "t45", "t45", "t47", "t47",
    "t47", "t47", "t14", "t14", "t46", "t46", "t441", "t441", "t441", "t441", "t443", "t440",
    "t440", "t438", "t406", "t407", "t407", "t375", "t375", "t407", "t408", "t408", "t408", "t408",
    "t405", "t405", "t402", "t402", "t434", "t434", "t435", "t435", "t435", "t433", "t433", "t433",
    "t465", "t465", "t465", "t467", "t467", "t467", "t464", "t464", "t496", "t496", "t496", "t496",
    "t90", "t90", "t90", "t122", "t122", "t122", "t122", "t123", "t123", "t121", "t121", "t121",
    "t153", "t153", "t153", "t155", "t155", "t152", "t152", "t184", "t184", "t184", "t217", "t217",
    "t219", "t219", "t219", "t219", "t219", "t218", "t218", "t250", "t250", "t250", "t252", "t252",
    "t252", "t252", "t220", "t220", "t220", "t253", "t253", "t253", "t255", "t255", "t255", "t421",
    "t420", "t420", "t388", "t388", "t389", "t389", "t359", "t359", "t359", "t359", "t357", "t357",
    "t357", "t389", "t391", "t391", "t391", "t391", "t358", "t358", "t326", "t326", "t326", "t295",
    "t295", "t293", "t293", "t292", "t292", "t290", "t290", "t290", "t258", "t258", "t260", "t260",
    "t260", "t257", "t257", "t257", "t259", "t259", "t259", "t488", "t488", "t457", "t457", "t425",
    "t425", "t425", "t427", "t427", "t427", "t459", "t457", "t456", "t456", "t456", "t426", "t426",
    "t394", "t394", "t394", "t383", "t383", "t380", "t378", "t378", "t378", "t346", "t346", "t348",
    "t348", "t348", "t380", "t381", "t381", "t381", "t347", "t345", "t22", "t22", "t22", "t22", "t54",
    "t53", "t55", "t55", "t87", "t87", "t87", "t87", "t85", "t85", "t84", "t84", "t116", "t116", "t116",
    "t116", "t129", "t129", "t131", "t131", "t131", "t130", "t130", "t162", "t164", "t164", "t164", "t164",
    "t132", "t132", "t165", "t165", "t167", "t167", "t167", "t167", "t201", "t201", "t203", "t203", "t146",
    "t146", "t178", "t178", "t178", "t311", "t311", "t309", "t309", "t309", "t309", "t364", "t364", "t332",
    "t332", "t332", "t301", "t301", "t333", "t333", "t333", "t335", "t335", "t335", "t303", "t303", "t303",
    "t303", "t302", "t302", "t270", "t270", "t270", "t308", "t308", "t276", "t274", "t274", "t274", "t306",
    "t306", "t306", "t306", "t273", "t273", "t275", "t275", "t275", "t275", "t179", "t179", "t177", "t209",
    "t209", "t209", "t209", "t211", "t211", "t208", "t208", "t240", "t240", "t204", "t204", "t202", "t234",
    "t234", "t234", "t236", "t236", "t237", "t237", "t239", "t239", "t239", "t31", "t31", "t30", "t30"
]);

var carp2 = new ColorLayer("#ff00ee", [
    "t68", "t100", "t101", "t101", "t133", "t133", "t133", "t133", "t135", "t135", "t135", "t135", "t103", "t103",
    "t134", "t134", "t166", "t166", "t166", "t166", "t40", "t40", "t8", "t8", "t8", "t41", "t41", "t73", "t73",
    "t75", "t75", "t75", "t75", "t43", "t43", "t74", "t74", "t106", "t106", "t106", "t199", "t199", "t197", "t197",
    "t197", "t197", "t196", "t196", "t196", "t194", "t226", "t226", "t226", "t226", "t228", "t228", "t227", "t227",
    "t227", "t225", "t225", "t225", "t322", "t322", "t354", "t355", "t355", "t355", "t353", "t353", "t353", "t324",
    "t324", "t356", "t356", "t356", "t325", "t325", "t325", "t327", "t327", "t327", "t16", "t16", "t16", "t48", "t48",
    "t49", "t49", "t81", "t81", "t81", "t83", "t83", "t83", "t51", "t51", "t82", "t82", "t114", "t114", "t117", "t117",
    "t117", "t119", "t119", "t119", "t86", "t86", "t118", "t120", "t120", "t120", "t88", "t88", "t88", "t89", "t89", "t91",
    "t140", "t140", "t172", "t172", "t172", "t172", "t173", "t173", "t205", "t205", "t205", "t207", "t207", "t207", "t207",
    "t175", "t206", "t206", "t238", "t238", "t238", "t238", "t272", "t272", "t304", "t304", "t304", "t305", "t305", "t337",
    "t339", "t339", "t339", "t339", "t307", "t307", "t307", "t338", "t338", "t370", "t370", "t404", "t404", "t436", "t436",
    "t436", "t437", "t437", "t469", "t469", "t471", "t471", "t471", "t471", "t439", "t439", "t470", "t470", "t502", "t502",
    "t502", "t271", "t271", "t271", "t271", "t269", "t269", "t266", "t266", "t298", "t300", "t300", "t300", "t300", "t268",
    "t297", "t297", "t299", "t241", "t241", "t241", "t241", "t243", "t243", "t243", "t243", "t210", "t210", "t242", "t244",
    "t244", "t244", "t244", "t212", "t212", "t213", "t213", "t215", "t215", "t185", "t185", "t185", "t185", "t187", "t187",
    "t187", "t187", "t154", "t154", "t186", "t186", "t186", "t188", "t188", "t188", "t156", "t156", "t156", "t157", "t157",
    "t159", "t159", "t159", "t421", "t421", "t421", "t421", "t423", "t423", "t423", "t423", "t390", "t390", "t422", "t422",
    "t424", "t424", "t424", "t392", "t392", "t393", "t393", "t393", "t393", "t395", "t395", "t395", "t396", "t396", "t396",
    "t428", "t428", "t428", "t428", "t461", "t461", "t461", "t461", "t463", "t431", "t431", "t431", "t431", "t429", "t429",
    "t462", "t462", "t494", "t494", "t494", "t494", "t442", "t442", "t442", "t410", "t410", "t377", "t377", "t409", "t409",
    "t411", "t411", "t411", "t411", "t379", "t376", "t376", "t344", "t344", "t344", "t313", "t313", "t313", "t313", "t315",
    "t315", "t315", "t282", "t282", "t282", "t314", "t314", "t316", "t316", "t316", "t316", "t316", "t284", "t284", "t285",
    "t285", "t287", "t287", "t287", "t91", "t91", "t91", "t91"
]);

var bears1 = new ColorLayer("#000", [
    "t4", "t4", "t32", "t32", "t33", "t33", "t33", "t35", "t35", "t35", "t8", "t8", "t36", "t36", "t37", "t37",
    "t39", "t39", "t39", "t57", "t57", "t59", "t58", "t86", "t86", "t86", "t86", "t113", "t113", "t115", "t142",
    "t142", "t142", "t142", "t142", "t114", "t114", "t309", "t309", "t311", "t311", "t310", "t310", "t282", "t282",
    "t282", "t282", "t253", "t253", "t255", "t255", "t254", "t254", "t226", "t226", "t226", "t226", "t368", "t368",
    "t340", "t341", "t341", "t341", "t343", "t343", "t372", "t372", "t344", "t345", "t345", "t347", "t347", "t347",
    "t347", "t181", "t181", "t181", "t180", "t208", "t208", "t208", "t209", "t211", "t211", "t211", "t210", "t210",
    "t182", "t182", "t183", "t183", "t22", "t22", "t50", "t51", "t51", "t51", "t49", "t49", "t49", "t18", "t18",
    "t46", "t46", "t47", "t47", "t45", "t45", "t45", "t45", "t83", "t83", "t80", "t80", "t80", "t80", "t80",
    "t108", "t108", "t81", "t139", "t139", "t136", "t136", "t136", "t164", "t164", "t164", "t137", "t137", "t386",
    "t386", "t359", "t357", "t357", "t358", "t358", "t382", "t382", "t355", "t353", "t353", "t353", "t353", "t354",
    "t354", "t335", "t335", "t333", "t332", "t332", "t332", "t332", "t304", "t304", "t279", "t279", "t277", "t277",
    "t276", "t276", "t276", "t276", "t248", "t279"]);

var bears2 = new ColorLayer("63ba00", [
    "t61", "t61", "t60", "t60", "t60", "t88", "t88", "t89", "t91", "t91", "t90", "t90", "t62", "t62", "t63", "t63",
    "t63", "t78", "t78", "t77", "t77", "t76", "t76", "t104", "t105", "t107", "t107", "t107", "t106", "t106", "t79",
    "t79", "t74", "t74", "t75", "t73", "t73", "t72", "t101", "t101", "t103", "t102", "t102", "t102", "t102", "t100",
    "t100", "t66", "t66", "t67", "t65", "t65", "t64", "t64", "t92", "t93", "t95", "t95", "t94", "t94", "t94", "t158",
    "t158", "t131", "t131", "t129", "t129", "t156", "t156", "t157", "t157", "t159", "t159", "t159", "t130", "t128",
    "t134", "t134", "t135", "t135", "t133", "t133", "t132", "t160", "t161", "t161", "t163", "t163", "t162", "t162",
    "t162", "t122", "t122", "t121", "t120", "t120", "t148", "t149", "t151", "t151", "t150", "t150", "t123", "t123",
    "t118", "t118", "t117", "t117", "t116", "t144", "t144", "t145", "t147", "t146", "t146", "t146", "t119", "t119",
    "t234", "t234", "t235", "t235", "t233", "t233", "t232", "t232", "t260", "t261", "t263", "t263", "t262", "t262",
    "t262", "t242", "t242", "t243", "t241", "t241", "t240", "t240", "t268", "t269", "t269", "t271", "t271", "t270",
    "t270", "t246", "t246", "t247", "t245", "t245", "t245", "t244", "t244", "t272", "t273", "t273", "t275", "t275",
    "t275", "t274", "t274", "t298", "t298", "t299", "t297", "t296", "t296", "t324", "t325", "t327", "t327", "t326",
    "t326", "t326", "t302", "t302", "t301", "t300", "t300", "t328", "t329", "t329", "t331", "t330", "t330", "t330",
    "t302", "t303", "t303", "t303", "t230", "t230", "t231", "t229", "t229", "t228", "t256", "t257", "t259", "t259",
    "t259", "t258", "t258", "t290", "t290", "t291", "t291", "t289", "t289", "t288", "t316", "t317", "t317", "t319",
    "t319", "t318", "t318", "t318", "t318", "t286", "t286", "t287", "t285", "t284", "t284", "t312", "t313", "t313",
    "t315", "t315", "t314"]);

var basket1 = new ColorLayer("#50ff05", [
    "t6", "t6", "t6", "t6", "t6", "t6", "t6", "t8", "t8", "t8", "t8", "t8", "t21", "t21", "t21", "t23", "t23", "t23",
    "t23", "t23", "t23", "t25", "t25", "t25", "t25", "t27", "t27", "t27", "t27", "t27", "t27", "t38", "t38", "t38",
    "t38", "t38", "t40", "t40", "t40", "t40", "t40", "t34", "t34", "t34", "t34", "t36", "t36", "t36", "t36", "t36",
    "t42", "t42", "t42", "t42", "t44", "t44", "t44", "t44", "t44", "t49", "t49", "t49", "t49", "t49", "t51", "t51",
    "t53", "t53", "t53", "t55", "t55", "t55", "t55", "t55", "t55", "t55", "t57", "t57", "t57", "t57", "t59", "t59",
    "t59", "t59", "t59", "t59", "t59", "t61", "t61", "t61", "t63", "t63", "t63", "t66", "t66", "t66", "t68", "t68",
    "t68", "t68", "t68", "t70", "t70", "t70", "t70", "t70", "t70", "t70", "t70", "t72", "t72", "t72", "t72", "t74",
    "t74", "t74", "t74", "t74", "t74", "t74", "t74", "t76", "t76", "t76", "t76", "t76"
]);

var basket2 = new ColorLayer("#fff700", [
    "t22", "t22", "t22", "t22", "t22", "t22", "t22", "t22", "t24", "t24", "t24", "t24", "t10", "t10", "t10", "t10",
    "t10", "t10", "t10", "t10", "t26", "t26", "t26", "t26", "t26", "t26", "t4", "t4", "t4", "t4", "t4", "t4", "t20",
    "t20", "t20", "t20", "t20", "t20", "t37", "t37", "t37", "t37", "t39", "t39", "t39", "t39", "t39", "t39", "t39",
    "t39", "t39", "t39", "t41", "t41", "t41", "t41", "t43", "t43", "t43", "t43", "t43", "t43", "t54", "t54", "t56",
    "t56", "t56", "t50", "t50", "t50", "t50", "t50", "t52", "t52", "t52", "t52", "t52", "t52", "t52", "t52", "t52",
    "t58", "t58", "t58", "t58", "t58", "t60", "t60", "t60", "t60", "t60", "t60", "t60", "t65", "t65", "t65", "t65",
    "t67", "t67", "t67", "t67", "t67", "t67", "t67", "t69", "t69", "t69", "t71", "t71", "t71", "t71", "t71", "t71",
    "t73", "t73", "t75", "t75", "t77", "t77", "t77", "t77", "t77", "t79", "t79", "t79", "t79", "t82", "t82", "t84",
    "t84", "t87", "t86", "t86", "t86", "t88", "t88", "t88", "t89", "t89", "t91", "t91", "t91", "t90", "t90", "t90",
    "t90", "t90", "t90", "t90", "t90", "t90", "t90", "t90", "t90", "t92", "t92", "t90", "t85", "t85", "t101", "t101",
    "t101", "t101", "t101", "t103", "t103", "t103", "t103", "t103", "t102", "t104", "t104", "t104", "t104", "t105",
    "t105", "t105", "t105", "t105", "t105", "t105", "t107", "t107", "t107", "t107", "t107", "t117", "t117", "t117",
    "t117", "t119", "t119", "t119", "t118", "t118", "t118", "t120", "t120", "t121", "t121", "t121", "t121", "t121",
    "t121", "t121", "t121", "t123", "t123", "t123", "t123", "t123", "t48", "t48", "t48", "t48", "t32", "t32", "t32",
    "t32", "t32", "t32", "t35", "t35", "t35", "t35", "t35", "t35", "t19", "t19", "t19", "t19", "t19", "t19", "t45",
    "t45", "t45", "t45", "t29", "t29", "t29", "t29", "t29", "t62", "t62", "t62", "t62", "t62", "t62", "t62", "t62",
    "t46", "t46", "t46", "t46", "t46", "t46", "t46"
]);
var crossroads1 = new ColorLayer("#36b", [
    "t2", "t4", "t10", "t12", "t17", "t19", "t20",
    "t18", "t21", "t23", "t25", "t27", "t26", "t29", "t28",
    "t31", "t33", "t35", "t34", "t36", "t37", "t39", "t41",
    "t43", "t42", "t44", "t45", "t47", "t50", "t52", "t58",
    "t60", "t66", "t68", "t74", "t76", "t81", "t83", "t82",
    "t84", "t85", "t87", "t89", "t91", "t90", "t92", "t93",
    "t95", "t97", "t99", "t98", "t100", "t101", "t103", "t105",
    "t107", "t106", "t108", "t109", "t111", "t114", "t116", "t122", "t124"]);

var log1 = new ColorLayer("#000", [
    "t9", "t9", "t9", "t9", "t9", "t9", "t8", "t8", "t8", "t8", "t8", "t8", "t8", "t8", "t18", "t18", "t18", "t18",
    "t18", "t19", "t19", "t19", "t19", "t19", "t19", "t19", "t19", "t19", "t19", "t19", "t29", "t29", "t29", "t29",
    "t29", "t29", "t29", "t28", "t28", "t28", "t28", "t28", "t28", "t28", "t28", "t28", "t28", "t28", "t28", "t28",
    "t28", "t28", "t28", "t38", "t38", "t38", "t38", "t38", "t38", "t38", "t38", "t38", "t38", "t38", "t38", "t38",
    "t38", "t39", "t39", "t39", "t39", "t39", "t39", "t39", "t39", "t39", "t49", "t49", "t49", "t49", "t49", "t49",
    "t49", "t49", "t49", "t49", "t49", "t49", "t49", "t49", "t48", "t48", "t48", "t48", "t48", "t48", "t48"
]);

var log2 = new ColorLayer("#454545", [
    "t46", "t46", "t46", "t46", "t47", "t47", "t47", "t47", "t47", "t47", "t47", "t47", "t47", "t47", "t47", "t45",
    "t45", "t45", "t44", "t44", "t44", "t44", "t44", "t44", "t44", "t44", "t44", "t44", "t44", "t42", "t42", "t42",
    "t42", "t42", "t42", "t42", "t42", "t42", "t42", "t42", "t42", "t42", "t42", "t42", "t43", "t43", "t43", "t43",
    "t43", "t43", "t43", "t43", "t43", "t43", "t43", "t43", "t43", "t43", "t41", "t41", "t41", "t41", "t41", "t41",
    "t41", "t41", "t41", "t41", "t41", "t41", "t41", "t40", "t40", "t40", "t40", "t40", "t40", "t40", "t40"
]);

var log3 = new ColorLayer("#757575", [
    "t37", "t37", "t37", "t37", "t37", "t37", "t37", "t37", "t37", "t37", "t37", "t37", "t37", "t36", "t36", "t36",
    "t36", "t36", "t36", "t36", "t36", "t26", "t26", "t26", "t26", "t26", "t26", "t26", "t26", "t26", "t26", "t26",
    "t26", "t27", "t27", "t27", "t17", "t17", "t17", "t17", "t17", "t17", "t17", "t17", "t17", "t17", "t17", "t17",
    "t17", "t17", "t17", "t17", "t17", "t17", "t16", "t16"
]);

var log4 = new ColorLayer("#ABABAB", [
    "t32", "t32", "t32", "t32", "t32", "t32", "t32", "t32", "t32", "t33", "t33", "t33", "t33", "t33", "t33", "t33",
    "t33", "t33", "t33", "t33", "t33", "t33", "t33", "t35", "t35", "t35", "t35", "t35", "t35", "t35", "t35", "t35",
    "t35", "t35", "t35", "t34", "t34", "t34", "t34"
]);

var log5 = new ColorLayer("#FFF700", [
    "t25", "t24"
]);

var log6 = new ColorLayer("#217D00", [
    "t30", "t30", "t30", "t31", "t20", "t20", "t20", "t20", "t20", "t20", "t21", "t21", "t21", "t10", "t10", "t10",
    "t10", "t11", "t0", "t0", "t1"
]);

var log7 = new ColorLayer("#2FB300", [
    "t2", "t3", "t4", "t5", "t6", "t7"
]);

var log8 = new ColorLayer("#3CE600", [
    "t12", "t13", "t22", "t23"
]);

var log9 = new ColorLayer("#43FF00", [
    "t14", "t15"
]);

var shoofly1 = new ColorLayer("#36b", [
    "t21", "t37", "t36", "t34", "t55", "t54", "t56", "t57", "t73", "t72", "t70",
    "t71", "t43", "t27", "t44", "t42", "t85", "t101", "t84", "t82", "t91", "t90",
    "t92", "t107"]);

var bow_ties1 = new ColorLayer("#36b", [
    "t0", "t6", "t9", "t10", "t11", "t12", "t13", "t15",
    "t16", "t17", "t19", "t21", "t22", "t23", "t26", "t28",
    "t32", "t33", "t35", "t37", "t38", "t39", "t42", "t44",
    "t48", "t54", "t57", "t58", "t59", "t60", "t61", "t63",
    "t65", "t66", "t67", "t68", "t69", "t71", "t72", "t78",
    "t82", "t84", "t88", "t89", "t91", "t93", "t94", "t95",
    "t98", "t100", "t104", "t105", "t107", "t109", "t110", "t111",
    "t113", "t114", "t115", "t116", "t117", "t119", "t120", "t126"]);

var flying_geese1 = new ColorLayer("#36b", [
    "t2", "t6", "t10", "t12",
    "t17", "t18", "t19", "t21", "t22", "t23", "t25", "t26", "t27", "t28", "t29", "t31",
    "t33", "t34", "t35", "t37", "t38", "t39", "t42", "t44",
    "t50", "t54", "t57", "t58", "t59", "t60", "t61", "t63",
    "t65", "t66", "t67", "t68", "t69", "t71", "t72", "t76",
    "t82", "t84", "t88", "t89", "t91", "t92", "t93", "t95",
    "t97", "t98", "t99", "t100", "t101", "t103", "t104", "t105",
    "t107", "t108", "t109", "t111", "t114", "t116", "t120", "t124"
]);

var sail1 = new ColorLayer("#892599", [
    "t65", "t65", "t65", "t65", "t65", "t67", "t67", "t67", "t67", "t67", "t67", "t67", "t67", "t67", "t66",
    "t66", "t66", "t66", "t66", "t66", "t82", "t82", "t82", "t82", "t82", "t82", "t82", "t82", "t82", "t82",
    "t84", "t84", "t84", "t84", "t84", "t85", "t85", "t85", "t85", "t85", "t85", "t87", "t87", "t87", "t87",
    "t85", "t69", "t69", "t69", "t69", "t69", "t69", "t69", "t69", "t69", "t69", "t69", "t68", "t68", "t68",
    "t68", "t68", "t68", "t71", "t71", "t70", "t70", "t70", "t70", "t70", "t70", "t70", "t70", "t70", "t86",
    "t86", "t86", "t86", "t86", "t88", "t88", "t88", "t88", "t88", "t89", "t89", "t89", "t89", "t89", "t89",
    "t89", "t91", "t91", "t91", "t91", "t91", "t91", "t90", "t90", "t90", "t90", "t90", "t92", "t92", "t92",
    "t92", "t92", "t92", "t92", "t92", "t92", "t92", "t92", "t92", "t76", "t76", "t77", "t77", "t77", "t77",
    "t77", "t77", "t77", "t77", "t77", "t77", "t79", "t79", "t79", "t79", "t79", "t72", "t72", "t72", "t73",
    "t73", "t73", "t73", "t73", "t73", "t73", "t73", "t75", "t75", "t75", "t75", "t75", "t74"
]);

var sail2 = new ColorLayer("#E43EFF", [
    "t4", "t4", "t4", "t4", "t20", "t20", "t20", "t20", "t20", "t20", "t20", "t21", "t21", "t21", "t23", "t23",
    "t23", "t23", "t23", "t23", "t36", "t36", "t36", "t52", "t52", "t52", "t52", "t52", "t52", "t52", "t53", "t53",
    "t53", "t53", "t53", "t53", "t53", "t53", "t53", "t55", "t55", "t55", "t55", "t40", "t40", "t40", "t40", "t40",
    "t56", "t56", "t56", "t56", "t56", "t56", "t56", "t57", "t57", "t57", "t57", "t57", "t57", "t57", "t59", "t59",
    "t59", "t59"
]);

var northstar1 = new ColorLayer("#36b", [
    "t4", "t10", "t20", "t21", "t23", "t25", "t27", "t26",
    "t33", "t35", "t34", "t36", "t37", "t39", "t38", "t40",
    "t41", "t43", "t42", "t44", "t45", "t47", "t50", "t52",
    "t53", "t55", "t54", "t56", "t57", "t59", "t58", "t60",
    "t66", "t68", "t69", "t71", "t70", "t72", "t73", "t75",
    "t74", "t76", "t81", "t83", "t82", "t84", "t87", "t85",
    "t86", "t88", "t89", "t91", "t90", "t92", "t93", "t95",
    "t100", "t101", "t103", "t105", "t107", "t106", "t116",
    "t122"
]);

var tumbling1 = new ColorLayer("#000", [
    "t127", "t126", "t110", "t123", "t122", "t106", "t119", "t118", "t102", "t115", "t114", "t98", "t92", "t76",
    "t77", "t61", "t88", "t72", "t73", "t57", "t84", "t68", "t69", "t53", "t80", "t64", "t65", "t49", "t35", "t19",
    "t18", "t2", "t39", "t23", "t22", "t6", "t43", "t27", "t26", "t10", "t47", "t31", "t30", "t14"
]);

var tumbling2 = new ColorLayer("#7AFF7A", [
    "t100", "t100", "t100", "t116", "t116", "t116", "t116", "t116", "t117", "t117", "t117", "t117", "t117", "t117",
    "t82", "t82", "t82", "t82", "t82", "t82", "t66", "t66", "t67", "t67", "t67", "t67", "t67", "t67", "t51", "t51",
    "t33", "t33", "t33", "t17", "t16", "t16", "t16", "t16", "t16", "t0", "t0", "t125", "t125", "t125", "t124", "t124",
    "t124", "t124", "t124", "t108", "t108", "t108", "t108", "t108", "t90", "t90", "t90", "t90", "t74", "t74", "t75",
    "t75", "t75", "t59", "t59", "t41", "t41", "t25", "t25", "t25", "t24", "t24", "t24", "t8", "t8", "t8", "t8", "t8"
]);

var tumbling3 = new ColorLayer("#FF8000", [
    "t96", "t96", "t96", "t96", "t96", "t96", "t112", "t112", "t112", "t112", "t113", "t113", "t113", "t113", "t113",
    "t113", "t113", "t113", "t104", "t104", "t104", "t104", "t104", "t120", "t120", "t120", "t120", "t121", "t121",
    "t121", "t121", "t121", "t121", "t86", "t86", "t86", "t86", "t70", "t70", "t70", "t70", "t71", "t71", "t71", "t71",
    "t55", "t55", "t55", "t55", "t55", "t55", "t55", "t37", "t37", "t37", "t21", "t21", "t21", "t20", "t20", "t20",
    "t4", "t4", "t4", "t4", "t4", "t4", "t4", "t94", "t94", "t78", "t78", "t79", "t79", "t79", "t79", "t63", "t63",
    "t63", "t63", "t63", "t63", "t63", "t45", "t45", "t45", "t29", "t29", "t29", "t28", "t28", "t28", "t28", "t28",
    "t28", "t12"
]);

var dog1 = new ColorLayer("#F00505", [
    "t146", "t113", "t78", "t45", "t10", "t12", "t51", "t88", "t231", "t196", "t163", "t127", "t229", "t193", "t195",
    "t194", "t158", "t160", "t161", "t125", "t124", "t122", "t86", "t87", "t85", "t49", "t48", "t46", "t156", "t154",
    "t190", "t192", "t81", "t83", "t47", "t116", "t80", "t114", "t115", "t151", "t149", "t184", "t182", "t185", "t148",
    "t187", "t223", "t221", "t222", "t224", "t260", "t258", "t261", "t263", "t299", "t298", "t334", "t336", "t300",
    "t337", "t373", "t375", "t339", "t302", "t304", "t269", "t234", "t201", "t166", "t133", "t130", "t93", "t54", "t17",
    "t18", "t19", "t20", "t56", "t57", "t59", "t95", "t94", "t132", "t96", "t98", "t65", "t30", "t33", "t32", "t35",
    "t68", "t66", "t67", "t101", "t100", "t136", "t134", "t135", "t171", "t103", "t168", "t169", "t204", "t202", "t203",
    "t237", "t236", "t239", "t272", "t270", "t271", "t307", "t305", "t340", "t338", "t170", "t211", "t248", "t287",
    "t323", "t321", "t285", "t284", "t282", "t246", "t247", "t245", "t209", "t208", "t206", "t172", "t355", "t316",
    "t279", "t277", "t312", "t310", "t313", "t315", "t350", "t352", "t353", "t314", "t389", "t391", "t346", "t348",
    "t347", "t345", "t381", "t383", "t380", "t378", "t446", "t413", "t416", "t451", "t484", "t519", "t517", "t481",
    "t483", "t482", "t448", "t449", "t415", "t414", "t453", "t419", "t417", "t455", "t456", "t454", "t490", "t492",
    "t495", "t493", "t529", "t531", "t530", "t566", "t567", "t603", "t602", "t555", "t591", "t590", "t626", "t627",
    "t638", "t639", "t554", "t518", "t403", "t401", "t434", "t469", "t505", "t181", "t217", "t219", "t183", "t218",
    "t254", "t257", "t293", "t295", "t259", "t220", "t256", "t332", "t294", "t330", "t296", "t297", "t333", "t369",
    "t371", "t406", "t370", "t408", "t372", "t335", "t479", "t516", "t552", "t553", "t589", "t588", "t624", "t625",
    "t550", "t514", "t515", "t513", "t477", "t476", "t440", "t438", "t439", "t474", "t437", "t436", "t504", "t540",
    "t541", "t577", "t471", "t507", "t470", "t472", "t576", "t612", "t613", "t509", "t510", "t511", "t475", "t473",
    "t508", "t544", "t547", "t546", "t619", "t618", "t582", "t583", "t545", "t581", "t580", "t616", "t617", "t452",
    "t525", "t489", "t488", "t524", "t560", "t561", "t597", "t596", "t632", "t633", "t528", "t564", "t565", "t601",
    "t600", "t636", "t637", "t520", "t556", "t521", "t523", "t487", "t485", "t486", "t450"
]);

var milpa1 = new ColorLayer("#24FF24", [
    "t0", "t28", "t29", "t2", "t3", "t1", "t30", "t32", "t4", "t364", "t365", "t337", "t336", "t309", "t308",
    "t280", "t281", "t253", "t252", "t224", "t225", "t197", "t196", "t168", "t169", "t141", "t140", "t112", "t113",
    "t85", "t84", "t56", "t57", "t33", "t61", "t63", "t35", "t62", "t90", "t92", "t64", "t93", "t121", "t95",
    "t123", "t122", "t150", "t152", "t124", "t155", "t377", "t348", "t376", "t379", "t378", "t351", "t349", "t321",
    "t320", "t323", "t350", "t322", "t294", "t295", "t293", "t292", "t264", "t265", "t267", "t266", "t238", "t237",
    "t209", "t211", "t239", "t236", "t208", "t180", "t183", "t210", "t182", "t154", "t126", "t127", "t153", "t181",
    "t125", "t97", "t99", "t96", "t68", "t69", "t41", "t40", "t12", "t13", "t15", "t14", "t42", "t43", "t71",
    "t70", "t98", "t31", "t59", "t58", "t86", "t87", "t114", "t142", "t143", "t115", "t171", "t170", "t198",
    "t199", "t227", "t226", "t254", "t255", "t283", "t282", "t310", "t311", "t339", "t338", "t366", "t367", "t128",
    "t129", "t101", "t156", "t131", "t74", "t102", "t103", "t104", "t76", "t77", "t49", "t50", "t51", "t79", "t52",
    "t22", "t24", "t25", "t27", "t26", "t54", "t55", "t83", "t82", "t110", "t111", "t139", "t166", "t167", "t138",
    "t195", "t194", "t222", "t223", "t279", "t278", "t251", "t250", "t307", "t306", "t334", "t335", "t363", "t362",
    "t390", "t391", "t53", "t81", "t80", "t108", "t109", "t137", "t136", "t164", "t165", "t193", "t192", "t220",
    "t221", "t249", "t248", "t276", "t277", "t305", "t304", "t332", "t333", "t361", "t360", "t388", "t389", "t380",
    "t353", "t325", "t327", "t355", "t352", "t298", "t326", "t328", "t300", "t301", "t303", "t275", "t273", "t274",
    "t246", "t374", "t346", "t347", "t345", "t317", "t319", "t316", "t288", "t286", "t287", "t257", "t256", "t228",
    "t259", "t285", "t314", "t205", "t233", "t235", "t207", "t262", "t234", "t176", "t174", "t202", "t204", "t175",
    "t173", "t145", "t144", "t116", "t147", "t240", "t268", "t243", "t213", "t241", "t215", "t214", "t188", "t186",
    "t216", "t189", "t161", "t163", "t191", "t162", "t134", "t44", "t16", "t17", "t19", "t38", "t10", "t11", "t9"
]);

var viajero1 = new ColorLayer("#000", [
    "t481", "t481", "t483", "t483", "t482", "t482", "t482", "t482", "t450", "t452", "t452", "t452", "t452", "t484",
    "t484", "t484", "t484", "t453", "t421", "t423", "t423", "t423", "t455", "t455", "t390", "t390", "t422", "t422",
    "t422", "t488", "t488", "t489", "t489", "t489", "t459", "t459", "t458", "t458", "t458", "t490", "t490", "t490",
    "t427", "t395", "t363", "t394", "t394", "t396", "t428", "t428", "t428", "t426", "t426", "t431", "t431", "t431",
    "t431", "t463", "t461", "t461", "t461", "t429", "t429", "t429", "t460", "t460", "t492", "t493", "t493", "t495",
    "t495", "t494", "t462", "t462", "t462", "t462", "t464", "t464", "t496", "t496", "t496", "t497", "t465", "t465",
    "t433", "t433", "t433", "t435", "t402", "t402", "t402", "t402", "t404", "t373", "t373", "t373", "t405", "t436",
    "t436", "t434", "t434", "t437", "t437", "t437", "t469", "t469", "t469", "t469", "t469", "t469", "t500", "t500",
    "t498", "t498", "t499", "t499", "t467", "t467", "t466", "t466", "t466", "t468", "t468", "t468", "t502", "t502",
    "t502", "t502", "t503", "t503", "t440", "t440", "t441", "t441", "t473", "t473", "t473", "t473", "t475", "t474",
    "t474", "t506", "t506", "t508", "t508", "t508", "t508", "t509", "t511", "t511", "t511", "t511", "t476", "t476",
    "t443", "t408", "t366", "t366", "t366", "t366", "t368", "t368", "t336", "t336", "t334", "t334", "t298", "t298",
    "t300", "t301", "t333", "t333", "t333", "t335", "t335", "t303", "t303", "t303", "t305", "t305", "t337", "t339",
    "t339", "t339", "t339", "t307", "t307", "t307", "t306", "t306", "t308", "t308", "t266", "t266", "t269", "t239",
    "t239", "t238", "t206", "t206", "t206", "t206", "t208", "t208", "t240", "t240", "t241", "t241", "t241", "t273",
    "t275", "t275", "t275", "t274", "t274", "t274", "t276", "t276", "t276", "t276", "t243", "t237", "t237", "t268",
    "t263", "t295", "t295", "t293", "t293", "t261", "t261", "t260", "t260", "t292", "t258", "t258", "t259", "t259",
    "t257", "t257", "t256", "t256", "t288", "t288", "t289", "t291", "t291", "t290", "t290", "t290", "t281", "t313",
    "t283", "t315", "t315", "t314", "t314", "t282", "t282", "t286", "t286", "t287", "t285", "t285", "t285", "t284",
    "t316", "t317", "t317", "t319", "t318", "t318", "t318", "t286", "t172", "t172", "t172", "t170", "t138", "t140",
    "t146", "t146", "t148", "t148", "t180", "t178", "t178", "t178", "t1", "t1", "t3", "t2", "t2", "t34", "t34",
    "t4", "t4", "t36", "t36", "t37", "t37", "t39", "t39", "t69", "t69", "t70", "t70", "t102", "t102", "t71", "t72",
    "t72", "t104", "t105", "t105", "t107", "t107", "t137", "t139", "t147", "t147", "t115", "t115", "t115", "t149",
    "t151", "t15", "t15", "t13", "t13", "t12", "t12", "t12", "t44", "t10", "t10", "t42", "t41", "t40", "t8", "t8",
    "t9", "t9", "t11", "t11", "t11", "t43", "t75", "t73", "t38", "t38", "t7", "t7", "t5", "t5", "t6", "t17", "t17",
    "t19", "t19", "t18", "t18", "t50", "t50", "t50", "t50", "t50", "t53", "t53", "t85", "t87", "t87", "t87", "t55",
    "t55", "t55", "t52", "t52", "t21", "t21", "t23", "t22", "t22", "t54", "t54", "t54", "t20", "t80", "t78", "t86",
    "t86", "t118", "t118", "t118", "t118", "t120", "t120", "t88", "t88", "t89", "t89", "t91", "t91", "t57", "t57",
    "t59", "t58", "t58", "t60", "t28", "t26", "t26", "t26", "t26", "t56", "t56", "t24", "t24", "t25", "t27", "t27",
    "t27", "t27", "t29", "t29", "t31", "t31", "t31", "t271"
]);

var camino1 = new ColorLayer("#8C0F05", [
    "t125", "t161", "t163", "t127", "t199", "t235", "t233", "t197", "t155", "t153", "t117", "t119", "t83", "t45",
    "t47", "t81", "t169", "t171", "t133", "t135", "t97", "t61", "t63", "t99", "t191", "t189", "t341", "t343",
    "t377", "t379", "t205", "t207", "t242", "t244", "t280", "t281", "t317", "t283", "t319", "t318", "t320", "t354",
    "t356", "t357", "t359", "t393", "t394", "t430", "t395", "t306", "t308", "t309", "t273", "t311", "t275", "t274",
    "t238", "t276", "t240", "t241", "t243", "t278", "t487", "t485", "t521", "t523", "t385", "t349", "t351", "t387",
    "t260", "t295", "t328", "t222", "t257", "t290", "t325", "t360", "t396", "t327", "t326", "t361", "t292", "t293",
    "t363", "t259", "t258", "t224", "t225", "t262", "t264", "t265", "t301", "t267", "t304", "t338", "t340", "t228",
    "t303", "t342", "t344", "t226", "t227", "t302", "t335", "t333", "t540", "t504", "t469", "t574", "t477", "t479",
    "t515", "t513", "t549", "t587", "t585", "t551", "t631", "t629", "t495", "t493", "t529", "t531", "t567", "t565",
    "t601", "t603", "t369", "t371", "t366", "t402", "t403", "t439", "t437", "t471", "t507", "t505", "t401", "t472",
    "t470", "t368", "t436", "t434", "t404", "t448", "t446", "t482", "t484", "t447", "t445", "t409", "t411", "t408",
    "t406", "t370", "t372", "t384", "t382", "t420", "t418", "t419", "t417", "t453", "t452", "t450", "t486", "t488",
    "t455", "t388", "t424", "t425", "t462", "t500", "t498", "t501", "t537", "t464", "t427", "t461", "t422", "t386",
    "t463", "t503", "t539", "t538", "t557", "t593", "t595", "t559"
]);

var doll1 = new ColorLayer("#FFAD33", [
    "t80", "t81", "t78", "t79", "t83", "t82", "t112", "t113", "t109", "t108", "t116", "t117", "t144", "t145",
    "t142", "t143", "t147", "t146", "t177", "t176", "t205", "t204", "t207", "t206", "t208", "t209", "t212", "t213",
    "t210", "t211", "t239", "t238", "t240", "t242", "t241", "t243", "t272", "t273", "t302", "t303", "t304", "t305",
    "t307", "t306", "t336", "t337", "t368", "t369", "t398", "t399", "t430", "t431", "t462", "t463", "t460", "t461",
    "t459", "t458", "t403", "t402", "t434", "t435", "t467", "t466", "t468", "t469", "t471", "t470", "t366", "t367",
    "t365", "t364", "t362", "t363", "t371", "t370", "t372", "t373", "t375", "t374", "t333", "t335", "t334", "t332",
    "t338", "t339", "t340", "t341", "t234", "t235", "t265", "t264", "t247", "t246", "t280", "t281"
]);

var town1 = new ColorLayer("#CC26FF", [
    "t269", "t302", "t338", "t377", "t379", "t344", "t308", "t271", "t197", "t230", "t265", "t298", "t334", "t373",
    "t410", "t449", "t451", "t416", "t383", "t348", "t312", "t275", "t236", "t199", "t306", "t307", "t305", "t304",
    "t340", "t341", "t237", "t198", "t196", "t231", "t264", "t299", "t335", "t372", "t411", "t343", "t342", "t448",
    "t450", "t417", "t382", "t349", "t313", "t274", "t52", "t53", "t55", "t54", "t92", "t93", "t131", "t168",
    "t169", "t130", "t207", "t206", "t244", "t245", "t283", "t282", "t319", "t318", "t355", "t354", "t391", "t390",
    "t425", "t424", "t458", "t459", "t492", "t493", "t527", "t526", "t561", "t560", "t594", "t595", "t592", "t593",
    "t554", "t555", "t517", "t516", "t479", "t478", "t440", "t441", "t402", "t403", "t364", "t365", "t328", "t329",
    "t292", "t293", "t256", "t257", "t223", "t222", "t188", "t189", "t155", "t154", "t120", "t121", "t86", "t87"
]);

var stars1 = new ColorLayer("#FFFA61", [
    "t79", "t103", "t101", "t77", "t129", "t153", "t155", "t131", "t148", "t146", "t170", "t172", "t182", "t158",
    "t160", "t184", "t87", "t85", "t109", "t111", "t114", "t138", "t140", "t116", "t198", "t200", "t224", "t222",
    "t219", "t217", "t241", "t243", "t253", "t229", "t231", "t255", "t234", "t210", "t212", "t236", "t67", "t65",
    "t41", "t43", "t59", "t35", "t33", "t57", "t27", "t51", "t49", "t25"
]);

var flores1 = new ColorLayer("#F2028A", [
    "t11", "t10", "t6", "t7", "t25", "t24", "t23", "t22", "t21", "t20", "t28", "t29", "t31", "t30", "t32", "t33",
    "t51", "t50", "t69", "t68", "t71", "t70", "t67", "t66", "t65", "t64", "t46", "t47", "t42", "t43", "t60", "t61",
    "t59", "t58", "t57", "t56", "t38", "t39", "t54", "t55", "t80", "t81", "t97", "t96", "t94", "t95", "t93", "t92",
    "t91", "t90", "t111", "t110", "t129", "t128", "t131", "t130", "t132", "t133", "t114", "t115", "t151", "t150",
    "t101", "t100", "t102", "t103", "t104", "t105", "t107", "t106", "t122", "t123", "t140", "t141", "t139", "t138",
    "t137", "t136", "t118", "t119", "t154", "t155"
]);

var child1 = new ColorLayer("#3657FF", [
    "t78", "t80", "t115", "t147", "t176", "t174", "t141", "t109", "t207", "t237", "t268", "t300", "t298", "t264",
    "t209", "t243", "t274", "t306", "t339", "t333", "t335", "t334", "t233", "t231", "t336", "t337", "t365", "t397",
    "t396", "t428", "t429", "t458", "t371", "t403", "t402", "t435", "t434", "t468", "t308", "t278", "t247", "t249",
    "t164"
]);

var rupanPlato1 = new ColorLayer("#D4FF00", [
    "t183", "t183", "t181", "t181", "t181", "t181", "t180", "t208", "t208", "t208", "t209", "t209", "t211", "t211",
    "t210", "t210", "t210", "t182", "t182", "t182", "t155", "t155", "t153", "t153", "t153", "t178", "t178", "t178",
    "t206", "t206", "t237", "t237", "t239", "t239", "t239", "t239", "t212", "t212", "t185", "t184", "t184"
]);

var rupanPlato2 = new ColorLayer("#1CD9FF", [
    "t152", "t152", "t152", "t152", "t150", "t150", "t151", "t151", "t151", "t179", "t179", "t179", "t205", "t205",
    "t205", "t205", "t205", "t204", "t202", "t202", "t202", "t202", "t202", "t174", "t174", "t176", "t176", "t176",
    "t176", "t176", "t177", "t177", "t177", "t149", "t149", "t149", "t149", "t149", "t122", "t122", "t124", "t125",
    "t127", "t127", "t127", "t127", "t127", "t99", "t97", "t97", "t97", "t97", "t207", "t207", "t235", "t235",
    "t233", "t233", "t233", "t234", "t234", "t262", "t262", "t264", "t264", "t236", "t236", "t236", "t265", "t265",
    "t265", "t295", "t295", "t295", "t267", "t267", "t267", "t267", "t267", "t267", "t295", "t293", "t293", "t293",
    "t238", "t238", "t238", "t238", "t240", "t240", "t240", "t268", "t268", "t268", "t266", "t266", "t266", "t266",
    "t241", "t241", "t213", "t215", "t215", "t243", "t243", "t243", "t243", "t214", "t214", "t216", "t188", "t188",
    "t186", "t186", "t186", "t186", "t185", "t185", "t187", "t159", "t159", "t159", "t159", "t157", "t157", "t157",
    "t156", "t154", "t126", "t128"
]);

var rupanPlato3 = new ColorLayer("#000", [
    "t69", "t69", "t69", "t71", "t71", "t71", "t71", "t98", "t98", "t100", "t100", "t100", "t100", "t129", "t129",
    "t131", "t131", "t131", "t131", "t96", "t96", "t94", "t94", "t94", "t123", "t123", "t121", "t121", "t121",
    "t148", "t148", "t148", "t146", "t146", "t146", "t175", "t175", "t175", "t173", "t173", "t173", "t158", "t158",
    "t160", "t160", "t160", "t189", "t189", "t189", "t191", "t191", "t191", "t191", "t217", "t217", "t219", "t219",
    "t219", "t219", "t242", "t242", "t242", "t244", "t244", "t244", "t244", "t269", "t269", "t271", "t271", "t271",
    "t271", "t294", "t294", "t294", "t294", "t296", "t296", "t296", "t296", "t201", "t201", "t203", "t203", "t203",
    "t203", "t230", "t230", "t232", "t232", "t232", "t232", "t261", "t261", "t263", "t263", "t263", "t290", "t290",
    "t292", "t292", "t292", "t321", "t321", "t323", "t323", "t323", "t323", "t323"
]);

var rupanPlato4 = new ColorLayer("#FF1938", [
    "t325", "t325", "t326", "t298", "t298", "t300", "t300", "t300", "t273", "t273", "t273", "t275", "t275", "t246",
    "t246", "t248", "t248", "t248", "t248", "t221", "t221", "t223", "t223", "t193", "t193", "t193", "t195", "t195",
    "t195", "t162", "t162", "t162", "t164", "t164", "t164", "t133", "t133", "t135", "t135", "t135", "t102", "t102",
    "t104", "t104", "t104", "t73", "t73", "t75", "t75", "t75", "t65", "t65", "t67", "t67", "t90", "t90", "t90",
    "t92", "t92", "t92", "t117", "t117", "t119", "t119", "t119", "t119", "t142", "t142", "t144", "t144", "t144",
    "t169", "t169", "t171", "t171", "t171", "t197", "t197", "t199", "t199", "t199", "t199", "t226", "t226", "t226",
    "t228", "t228", "t228", "t257", "t257", "t257", "t259", "t259", "t259", "t286", "t286", "t288", "t288", "t288",
    "t317", "t317", "t317", "t319", "t319", "t319", "t348", "t327", "t327"
]);

var rupanPlato5 = new ColorLayer("#879410", [
    "t61", "t61", "t63", "t63", "t86", "t86", "t88", "t88", "t88", "t88", "t88", "t113", "t113", "t115", "t115",
    "t115", "t140", "t224", "t224", "t253", "t253", "t255", "t255", "t255", "t255", "t282", "t282", "t284", "t284",
    "t284", "t284", "t313", "t313", "t315", "t315", "t315", "t315", "t77", "t77", "t79", "t79", "t106", "t106",
    "t108", "t108", "t108", "t137", "t137", "t139", "t139", "t139", "t166", "t250", "t250", "t279", "t279", "t277",
    "t277", "t277", "t304", "t304", "t302", "t302", "t302", "t331", "t331", "t329", "t329", "t329"]);

var eagle1 = new ColorLayer("#000", [
    "t631", "t631", "t629", "t487", "t487", "t485", "t521", "t521", "t521", "t520", "t520", "t555", "t555", "t589",
    "t622", "t622", "t622", "t623", "t623", "t623", "t621", "t621", "t586", "t586", "t553", "t553", "t554", "t554",
    "t518", "t518", "t588", "t588", "t624", "t625", "t625", "t627", "t626", "t626", "t628", "t592", "t592", "t593",
    "t557", "t557", "t556", "t556", "t591", "t590", "t590", "t523", "t523", "t522", "t522", "t558", "t560", "t560",
    "t561", "t563", "t599", "t599", "t598", "t598", "t636", "t636", "t637", "t637", "t639", "t639", "t639", "t600",
    "t600", "t524", "t524", "t597", "t597", "t634", "t635", "t633", "t630", "t594", "t595", "t559", "t559", "t559",
    "t596", "t632", "t632", "t340", "t341", "t376", "t412", "t411", "t411", "t374", "t374", "t410", "t410", "t410",
    "t374", "t409", "t409", "t444", "t478", "t479", "t477", "t512", "t510", "t510", "t546", "t547", "t545", "t583",
    "t548", "t513", "t513", "t515", "t480", "t442", "t442", "t445", "t445", "t447", "t413", "t413", "t484", "t484",
    "t484", "t484", "t448", "t449", "t449", "t449", "t414", "t415", "t451", "t451", "t450", "t486", "t486", "t379",
    "t379", "t342", "t342", "t343", "t343", "t377", "t378", "t380", "t380", "t417", "t455", "t455", "t454", "t490",
    "t493", "t531", "t530", "t530", "t532", "t566", "t529", "t495", "t492", "t492", "t456", "t419", "t419", "t453",
    "t416", "t605", "t569", "t569", "t568", "t571", "t162", "t162", "t198", "t165", "t131", "t130", "t97", "t62",
    "t62", "t64", "t64", "t28", "t26", "t61", "t61", "t63", "t99", "t94", "t94", "t96", "t132", "t132", "t129",
    "t167", "t167", "t164", "t164", "t197", "t199", "t196", "t196", "t123", "t121", "t84", "t83", "t47", "t44",
    "t8", "t8", "t8", "t6", "t42", "t45", "t45", "t81", "t82", "t43", "t43", "t77", "t74", "t74", "t41", "t79",
    "t118", "t118", "t120", "t120", "t157", "t159", "t158", "t160", "t160", "t160", "t194", "t67", "t67", "t65",
    "t101", "t103", "t103", "t102", "t104", "t138", "t140", "t140", "t141", "t141", "t135", "t135", "t134", "t136",
    "t136", "t137", "t137", "t139", "t138", "t138", "t133", "t133", "t110", "t110", "t109", "t109", "t109", "t109",
    "t111", "t111", "t76", "t112", "t112", "t113", "t115", "t114", "t114", "t116", "t116", "t117", "t119", "t233",
    "t233", "t232", "t268", "t268", "t269", "t305", "t304", "t304", "t235", "t270", "t271", "t307", "t306", "t306",
    "t235", "t234", "t237", "t237", "t237", "t239", "t239", "t239", "t273", "t272", "t236", "t309", "t308", "t345",
    "t345", "t381", "t344", "t230", "t231", "t229", "t229", "t266", "t267", "t267", "t303", "t302", "t302", "t338",
    "t339", "t375", "t153", "t153", "t155", "t154", "t154", "t190", "t192", "t192", "t193", "t195", "t195", "t194",
    "t156", "t200", "t446", "t446", "t482", "t488", "t488", "t452", "t238", "t311", "t310", "t346", "t347", "t383",
    "t383", "t382", "t382", "t418", "t418", "t418", "t275", "t275", "t274", "t274", "t201", "t201", "t203", "t166",
    "t168", "t168", "t169", "t171", "t171", "t204", "t204", "t202", "t211", "t211", "t246", "t248", "t287", "t287",
    "t287", "t209", "t244", "t279", "t277", "t313", "t313", "t312", "t312", "t310", "t346", "t346", "t315", "t315",
    "t352", "t352", "t353", "t353", "t350", "t350", "t314", "t314", "t316", "t316", "t278", "t278", "t244", "t244",
    "t242", "t242", "t242", "t245", "t245", "t247", "t247", "t281", "t281", "t317", "t318", "t356", "t356", "t356",
    "t357", "t357", "t359", "t395", "t394", "t430", "t430", "t430", "t430", "t358", "t358", "t323", "t287", "t285",
    "t284", "t282", "t283", "t283", "t281", "t280", "t280", "t319", "t319", "t321", "t321", "t320", "t322", "t355",
    "t354", "t354", "t354", "t389", "t389", "t391", "t390", "t426", "t426", "t393", "t392", "t428", "t428", "t428",
    "t429", "t429", "t503", "t503", "t539", "t539", "t539", "t501", "t501", "t465", "t465", "t465", "t464", "t464",
    "t500", "t537", "t538", "t574", "t431", "t431", "t466", "t466", "t466", "t502", "t502", "t502", "t467", "t388",
    "t388", "t424", "t425", "t463", "t462", "t500", "t500", "t427", "t498", "t498", "t461", "t425", "t276", "t265",
    "t264", "t301", "t300", "t336", "t336", "t337", "t339", "t373", "t372", "t408", "t263", "t299", "t298", "t262",
    "t224", "t224", "t223", "t187", "t187", "t221", "t185", "t222", "t222", "t258", "t258", "t261", "t261", "t261",
    "t297", "t260", "t296", "t296", "t330", "t330", "t330", "t332", "t332", "t294", "t366", "t366", "t402", "t402",
    "t331", "t331", "t367", "t403", "t403", "t439", "t437", "t436", "t472", "t472", "t471", "t507", "t507", "t507",
    "t505", "t504", "t540", "t540", "t540", "t434", "t434", "t470", "t470", "t401", "t218", "t254", "t253", "t289",
    "t288", "t288", "t361", "t360", "t396", "t397", "t432", "t468", "t468", "t469", "t469", "t433", "t433", "t435",
    "t399", "t398", "t364", "t364", "t365", "t329", "t328", "t292", "t293", "t257", "t256", "t220", "t220", "t220",
    "t259", "t259", "t295", "t295", "t255", "t255", "t290", "t326", "t327", "t363", "t363", "t363", "t362", "t362",
    "t400", "t400", "t291", "t291", "t324", "t324", "t325", "t325", "t143", "t143"
]);

var ladder1 = new ColorLayer("#f00", [
    "t493", "t493", "t495", "t495", "t492", "t492", "t424", "t422", "t390", "t391", "t357", "t323", "t289", "t288",
    "t256", "t256", "t256", "t321", "t291", "t389", "t359", "t392", "t458", "t490", "t460", "t460", "t64", "t64",
    "t96", "t96", "t96", "t128", "t128", "t160", "t160", "t99", "t99", "t97", "t129", "t129", "t129", "t131",
    "t130", "t132", "t165", "t167", "t199", "t198", "t232", "t233", "t266", "t268", "t301", "t301", "t335", "t336",
    "t368", "t369", "t369", "t164", "t164", "t163", "t163", "t163", "t195", "t195", "t195", "t193", "t160", "t160",
    "t163", "t162", "t161", "t161", "t197", "t197", "t194", "t226", "t226", "t228", "t228", "t196", "t196", "t200",
    "t200", "t235", "t235", "t267", "t265", "t265", "t265", "t264", "t262", "t262", "t294", "t294", "t294", "t296",
    "t230", "t230", "t261", "t261", "t261", "t229", "t229", "t231", "t231", "t263", "t300", "t300", "t299", "t297",
    "t329", "t329", "t329", "t331", "t299", "t298", "t298", "t298", "t303", "t334", "t334", "t366", "t399", "t398",
    "t398", "t398", "t430", "t430", "t367", "t367", "t365", "t397", "t397", "t397", "t333", "t333", "t364", "t364",
    "t362", "t362", "t330", "t330", "t332", "t332", "t332", "t371", "t371", "t402", "t404", "t436", "t437", "t439",
    "t439", "t471", "t470", "t472", "t504", "t507", "t507", "t507", "t507", "t507", "t505", "t502", "t502", "t500",
    "t500", "t466", "t466", "t435", "t433", "t400", "t400", "t401", "t401", "t401", "t403", "t403", "t432", "t434",
    "t434", "t467", "t467", "t465", "t465", "t469", "t469", "t468", "t498", "t498", "t498", "t501", "t501", "t503",
    "t503", "t503", "t133", "t133", "t135", "t135", "t134", "t166", "t166", "t166", "t166", "t137", "t137", "t168",
    "t169", "t171", "t170", "t138", "t138", "t139", "t137", "t136", "t136", "t136", "t136", "t5", "t5", "t5", "t7",
    "t7", "t7", "t9", "t9", "t11", "t11", "t10", "t12", "t17", "t17", "t17", "t19", "t18", "t50", "t50", "t52",
    "t52", "t20", "t20", "t20", "t86", "t86", "t118", "t120", "t121", "t121", "t155", "t155", "t155", "t153",
    "t153", "t123", "t88", "t191", "t191", "t221", "t221", "t223", "t223", "t222", "t222", "t189", "t8", "t8",
    "t6", "t38", "t38", "t40", "t40", "t41", "t73", "t75", "t74", "t74", "t108", "t108", "t109", "t109", "t143",
    "t143", "t142", "t142", "t176", "t176", "t176", "t106", "t76", "t76", "t141", "t140", "t140", "t173", "t175",
    "t175", "t174", "t174", "t172", "t43", "t43", "t45", "t77", "t79", "t77", "t79", "t47", "t47", "t47", "t44",
    "t44", "t42", "t42", "t78", "t78", "t110", "t111", "t111", "t80", "t80", "t113", "t145", "t144", "t176",
    "t177", "t177", "t177", "t209", "t209", "t209", "t210", "t178", "t178", "t146", "t147", "t115", "t113", "t112",
    "t112", "t112", "t148", "t148", "t181", "t213", "t212", "t244", "t245", "t245", "t277", "t277", "t242", "t211",
    "t211", "t178", "t180", "t179", "t179", "t183", "t183", "t214", "t246", "t249", "t281", "t314", "t317", "t319",
    "t351", "t351", "t350", "t350", "t382", "t382", "t382", "t349", "t349", "t316", "t316", "t283", "t251", "t251",
    "t249", "t216", "t216", "t214", "t215", "t248", "t248", "t282", "t282", "t284", "t284", "t284", "t446", "t446",
    "t446", "t414", "t413", "t381", "t380", "t346", "t347", "t313", "t312", "t280", "t280", "t278", "t279", "t247",
    "t247", "t247", "t310", "t345", "t378", "t348", "t348", "t383", "t383", "t415", "t315", "t337", "t337", "t339",
    "t338", "t341", "t343", "t342", "t342", "t344", "t344", "t344", "t340", "t370", "t370", "t372", "t373", "t375",
    "t374", "t376", "t377", "t379", "t379", "t379", "t254", "t254"
]);

var noneLayer = [none1];
var monLayer = [mon1];
var carpLayer = [carp1, carp2];
var bearLayer = [bears1, bears2];
var basketLayer = [basket1, basket2];
var crossroadsLayer = [crossroads1];
var logLayer = [log9, log8, log7, log6, log5, log4, log3, log2, log1];
var shooflyLayer = [shoofly1];
var bow_tiesLayer = [bow_ties1];
var flying_geeseLayer = [flying_geese1];
var sailLayer = [sail2, sail1];
var northstarLayer = [northstar1];
var tumblingLayer = [tumbling3, tumbling2, tumbling1];
var dogLayer = [dog1];
var milpaLayer = [milpa1];
var viajeroLayer = [viajero1];
var roadLayer = [camino1];
var dollLayer = [doll1];
var townLayer = [town1];
var starLayer = [stars1];
var flowerLayer = [flores1];
var childLayer = [child1];
var rupanLayer = [rupanPlato1, rupanPlato2, rupanPlato3, rupanPlato4, rupanPlato5];
var eagleLayer = [eagle1];
var ladderLayer = [ladder1];

var none = new Template("", "", 8, noneLayer);
/*1*/
var monkey_wrench = new Template("Llave Inglesa", "Recoge herramientas físicas y espirituales para iniciar el viaje.", 8, monLayer);
/*3*/
var carpenter = new Template("La rueda del carpintero", "Escabúllete, los triángulos oscuros muestran una ruta segura.", 16, carpLayer);
/*4*/
var bears_paw = new Template("Huella del oso", "Sigue la huella del oso para encontrar agua y alimentos.", 14, bearLayer);
/*5*/
var basket = new Template("Cesto", "Acá es posible reunir provisiones.", 16, basketLayer);
/*6*/
var crossroads = new Template("Encrucijada", "Encontrarás una ciudad importante donde hallarás protección y refugio.", 8, crossroadsLayer);
/*7*/
var log_cabin = new Template("Cabaña de troncos", "Esta es una casa segura y es posible alojarse aquí.", 5, logLayer);
/*8*/
var shoofly = new Template("Escapar al vuelo", "Hay acá una persona que puede ayudarte en tu camino.", 8, shooflyLayer);
/*9*/
var bow_ties = new Template("Corbatín", "Cambia de identidad, se te proporcionará una muda de ropa.", 8, bow_tiesLayer);
/*10*/
var flying_geese = new Template("Vuelo del ganso", "Sigue la dirección de las aves migratorias hacia el norte.", 8, flying_geeseLayer);
/*12*/
var sailboat = new Template("Velero", "Es necesario un barco.", 16, sailLayer);
/*13*/
var northstar = new Template("Estrella Polar", "Este es el camino correcto.", 8, northstarLayer);
/*14*/
var tumbling_blocks = new Template("Cataratas", "Has llegado al final del camino.", 8, tumblingLayer);
/*101*/
var dog = new Template("Perro", "Compañía, guía", 18, dogLayer);
/*102*/
var milpa = new Template("Milpa", "Alimento, trabajo. Un ciclo importante para la familia.", 14, milpaLayer);
/*103*/
var travelling_bird = new Template("Pájaro Viajero", "Un viajero. Cuando llovía, los pájaros subían al cielo a cantar. Es el náhuatl del ser humano.", 14, viajeroLayer);
/*104*/
var road = new Template("Camino", "Recorrido zigzagueante, la forma en que se suben las pirámides, serpientes.", 18, roadLayer);
/*105*/
var doll = new Template("Muñeca", "En muchos textiles este símbolo se asocia con las mujeres", 16, dollLayer);
/*106*/
var towns_center = new Template("Centro del pueblo", "Unión, centro de las actividades, punto de reunión.", 18, townLayer);
/*107*/
var stars = new Template("Estrellas", "Luz en la oscuridad.", 12, starLayer);
/*108*/
var flowers_1 = new Template("Flores", "Símbolo de feminidad, el jardín de la tejedora.", 9, flowerLayer);
/*110*/
var child = new Template("Niño", "Niño elevando sus brazos al cielo, inocencia y esperanza.", 16, childLayer);
/*111*/
var rupan_plato = new Template("Rupan plato", "Ofrenda de comida, abundancia.", 14, rupanLayer);
/*112*/
var two_headed_eagle = new Template("Águila Bicéfala", "Dos perspectivas. Cuenta la leyenda que en los campos de cultivo debías cubrirte pues un águila de dos cabezas podría llevarte.", 18, eagleLayer);
/*113*/
var ladder = new Template("Escalera", "Ascender, subir.", 16, ladderLayer);

templateArray = [
    none, monkey_wrench, carpenter, bears_paw, basket, crossroads, log_cabin, shoofly, bow_ties, flying_geese, sailboat,
    northstar, tumbling_blocks, dog, milpa, travelling_bird, road, doll, towns_center, stars, flowers_1, child, rupan_plato,
    two_headed_eagle, ladder];

var mouseIsDown = false;
var currentColor;

var canvasElement;
var colorElement;

$(document).mousedown(function () {
    mouseIsDown = true;
});

$(document).mouseup(function () {
    mouseIsDown = false;
});

function drawSingleTriangle(firstPoint, secondPoint, thirdPoint, isGray) {
    var fillColor = constants.light;
    var strokeColor = constants.shade;
    if (isGray) {
        fillColor = constants.shade;
        strokeColor = constants.light;
    }


    canvasElement.drawPath({
        layer: true,
        groups: ['tiles'],
        lineDash: [1, 2],
        fillStyle: fillColor,
        strokeStyle: strokeColor,
        strokeWidth: 1,
        lineDashOffset: [5],
        name: 't' + counter.toString(),
        p1: {
            type: 'line',
            x1: firstPoint.x,
            y1: firstPoint.y,
            x2: secondPoint.x,
            y2: secondPoint.y,
            x3: thirdPoint.x,
            y3: thirdPoint.y,
            x4: firstPoint.x,
            y4: firstPoint.y
        },
        touchend: function () {
            mouseIsDown = false;
        },
        touchstart: function (layer) {
            mouseIsDown = true;
            currentColor = colorElement.val();
            if (layer.fillStyle != currentColor) {
                isPainting = true;
                canvasElement.setLayer(layer, {
                    fillStyle: currentColor
                }).drawLayer(layer.name);
            } else {
                isPainting = false;
                canvasElement.setLayer(layer, {
                    fillStyle: fillColor
                }).drawLayer(layer.name);
            }
        },
        mousedown: function (layer) {
            currentColor = colorElement.val();
            if (layer.fillStyle != currentColor) {
                isPainting = true;
                canvasElement.setLayer(layer, {
                    fillStyle: currentColor
                }).drawLayer(layer.name);
            } else {
                isPainting = false;
                canvasElement.setLayer(layer, {
                    fillStyle: fillColor
                }).drawLayer(layer.name);
            }
        },
        mouseover: function (layer) {
            if (mouseIsDown) {
                if (isPainting) {
                    if (layer.fillStyle != currentColor) {
                        canvasElement.setLayer(layer, {
                            fillStyle: currentColor
                        }).drawLayer(layer.name);
                    }
                } else if (!isPainting) {
                    if (layer.fillStyle != fillColor) {
                        canvasElement.setLayer(layer, {
                            fillStyle: fillColor
                        }).drawLayer(layer.name);
                    }
                }
            }
        },
        touchmove: function (layer) {
            if (isPainting) {
                if (layer.fillStyle != currentColor) {
                    canvasElement.setLayer(layer, {
                        fillStyle: currentColor
                    }).drawLayer(layer.name);
                }
            } else if (!isPainting) {
                if (layer.fillStyle != fillColor) {
                    canvasElement.setLayer(layer, {
                        fillStyle: fillColor
                    }).drawLayer(layer.name);
                }
            }
        }
    });

    counter++;
}

function drawWhiteTriangles(id) {
    var xPos = id % constants.intervals;
    var yPos = Math.floor(id / constants.intervals);

    var squareSize = constants.canvasWidth / constants.intervals;

    var topLeft = {
        x: squareSize * xPos,
        y: squareSize * yPos
    };
    var topRight = {
        x: squareSize * (xPos + 1),
        y: squareSize * yPos
    };
    var bottomLeft = {
        x: squareSize * xPos,
        y: squareSize * (yPos + 1)
    };
    var bottomRight = {
        x: squareSize * (xPos + 1),
        y: squareSize * (yPos + 1)
    };

    if (yPos % 2) {
        if (id % 2) {
            drawSingleTriangle(topLeft, bottomRight, topRight, true);
            drawSingleTriangle(topLeft, bottomRight, bottomLeft, true);
        } else {
            drawSingleTriangle(topLeft, topRight, bottomLeft, true);
            drawSingleTriangle(topRight, bottomLeft, bottomRight, true);
        }
    } else {
        if (id % 2) {
            drawSingleTriangle(topRight, bottomLeft, bottomRight, true);
            drawSingleTriangle(topLeft, bottomLeft, topRight, true);
        } else {
            drawSingleTriangle(topLeft, bottomRight, bottomLeft, true);
            drawSingleTriangle(topLeft, bottomRight, topRight, true);
        }
    }
}

$(window).load(function () {
    colorElement = $('#colorInput');
    var canContainer = document.getElementById('canvasContainer');
    var myCanvas = document.getElementById('myCanvas');

    var canWidth = canContainer.clientWidth - 30;
    myCanvas.width = canWidth;
    myCanvas.height = canWidth;
    constants.canvasWidth = canWidth;
    canvasElement = $(myCanvas);
    currentColor = colorElement.val();
    update();
});

function update() {
    nueva = [];
    constants.intervals = $('#gridSize').val();
    canvasElement.clearCanvas();
    canvasElement.removeLayers();
    counter = 0;
    var stepLimit = constants.intervals * constants.intervals;
    for (var i = 0; i < stepLimit; i++) {
        drawWhiteTriangles(i);
    }
    document.getElementById('submitBtn').addEventListener("click", uploadImage, false);
}

function selectTemplate() {
    var index = parseInt(document.getElementById('templateSelector').value);
    var singleTemplate = templateArray[index];
    $("#nameLabel").text(singleTemplate.name);
    $("#textLabel").text(singleTemplate.text);
    $('#gridSize').val(singleTemplate.divisionNr);

    update();
    singleTemplate.code.forEach(function (value) {
        drawColorLayer(value);
    });
    canvasElement.drawLayers();
    // drawAllLayers
}

function drawColorLayer(code) {
        var colorName = code.color;

        code.coords.forEach(function (singleCoord) {
            canvasElement.addLayerToGroup(singleCoord, colorName);
        });
        canvasElement.setLayerGroup(colorName, {
            fillStyle: colorName
        });
    }
    //# sourceMappingURL=templates.js.map



/*function selectTemplate() {
    var templateSelector = ;
    var codeArray = shapeArray[templateSelector];
    update();
    codeArray.forEach(function (entry) {
        canvasElement.addLayerToGroup(entry, 'g1');
    });
    canvasElement.setLayerGroup('g1', {
        fillStyle: '#36b'
    }).drawLayers();
}*/

function uploadImage() {
    var reader = new FileReader();
    reader.onload = function (event) {
        var img = new Image();
        img.onload = function () {
            var xsize = img.width;
            var ysize = img.height;

            var mainSize = (xsize > ysize) ? xsize : ysize;
            var scaleNr = canvasElement.width() / mainSize;

            canvasElement.removeLayer('bgImage');

            canvasElement.drawImage({
                name: 'bgImage',
                layer: true,
                source: img,
                scale: scaleNr,
                x: xsize * scaleNr / 2,
                y: ysize * scaleNr / 2
            }).moveLayer('bgImage', 0).drawLayers();
        };
        img.src = event.target.result;
        if (img.complete) {
            $(img).trigger('load');
        }
    };
    reader.readAsDataURL(document.getElementById('imageLoader').files[0]);
}